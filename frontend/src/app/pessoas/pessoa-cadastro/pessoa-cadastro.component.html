<div class="container">

    <form #pessoaForm="ngForm" (ngSubmit)="salvar()">

        <div class="p-grid">

            <div class="p-col-12">
                <h1>{{ editando ? 'Alterando' : 'Nova'}} Pessoa</h1>
                <p class="danger">* Campos obrigatórios</p>
            </div>

            <div class="p-col-12 p-fluid">
                <label>Nome *</label>
                <input pInputText type="text" name="nome" [(ngModel)]="pessoa.nome"
                #campoNome="ngModel"
                required minlength="5">

                <app-message [model]="campoNome" error="required"
                text="Informe o nome"></app-message>

                <app-message [model]="campoNome" error="minlength"
                text="Mínimo de {{ campoNome.errors?.minlength?.requiredLength }} caracteres"></app-message>
            </div>

            <div class="p-col-12 p-md-9 p-fluid">
                <label>Logradouro *</label>
                <input pInputText type="text" name="logradouro" [(ngModel)]="pessoa.endereco.logradouro"
                #campoLogradouro="ngModel"
                required>

                <app-message [model]="campoLogradouro" error="required"
                text="Informe o logradouro"></app-message>
            </div>

            <div class="p-col-12 p-md-3 p-fluid">
                <label>Número *</label>
                <input pInputText type="text" name="numero" [(ngModel)]="pessoa.endereco.numero"
                #campoNumero="ngModel"
                required>

                <app-message [model]="campoNumero" error="required"
                text="Informe o número"></app-message>
            </div>

            <div class="p-col-12 p-md-4 p-fluid">
                <label>Complemento</label>
                <input pInputText type="text" name="complemento" [(ngModel)]="pessoa.endereco.complemento"
                #campoComplemento="ngModel">
            </div>

            <div class="p-col-12 p-md-4 p-fluid">
                <label>Bairro *</label>
                <input pInputText type="text" name="bairro" [(ngModel)]="pessoa.endereco.bairro"
                #campoBairro="ngModel"
                required>

                <app-message [model]="campoBairro" error="required"
                text="Informe o bairro"></app-message>
            </div>

            <div class="p-col-12 p-md-4 p-fluid">
                <label>CEP *</label>
                <p-inputMask mask="99.999-999" name="cep" [(ngModel)]="pessoa.endereco.cep"
                #campoCep="ngModel"
                [required]="true"></p-inputMask>

                <app-message [model]="campoCep" error="required"
                text="Informe o CEP"></app-message>
            </div>

            <div class="p-col-12 p-md-6 p-fluid">
                <label>Cidade *</label>
                <input pInputText type="text" name="cidade" [(ngModel)]="pessoa.endereco.cidade"
                #campoCidade="ngModel"
                required>

                <app-message [model]="campoCidade" error="required"
                text="Informe a cidade"></app-message>
            </div>

            <div class="p-col-12 p-md-6 p-fluid">
                <label>Estado *</label>
                <input pInputText type="text" name="estado" [(ngModel)]="pessoa.endereco.estado"
                #campoEstado="ngModel"
                required>

                <app-message [model]="campoEstado" error="required"
                text="Informe o estado"></app-message>
            </div>

            <div class="p-col-12">
                <button class="p-button-info col-mr" pButton type="submit" label="Salvar"
                [disabled]="!pessoaForm.valid"></button>

                <button class="col-mr" pButton type="button" label="Novo"
                  (click)="novo(pessoaForm)"></button>
                <a routerLink="/pessoas">Voltar para a pesquisa</a>
            </div>


        </div>

    </form>

</div>